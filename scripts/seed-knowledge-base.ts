import { prisma } from "@/lib/prisma";
import { embed } from "ai";
import { embeddingModel } from "@/lib/ai";

const knowledgeBaseContent = [
  {
    title: "Magic WebLab - Ð—Ð°Ð³Ð°Ð»ÑŒÐ½Ð° Ñ–Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ",
    content: `Magic WebLab - ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ñ€Ð¾Ð·Ñ€Ð¾Ð±Ð½Ð¸ÐºÑ–Ð² Ñ‚Ð° Ð´Ð¸Ð·Ð°Ð¹Ð½ÐµÑ€Ñ–Ð², Ñ‰Ð¾ Ð²Ñ‚Ñ–Ð»ÑŽÑ” Ñ–Ð´ÐµÑ— Ñƒ Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ–ÑÑ‚ÑŒ.

ÐžÑÐ½Ð¾Ð²Ð½Ð° Ð¼Ñ–ÑÑ–Ñ: Ð²ÐµÐ±-Ñ€Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ° Ñ‚Ð° Ñ–Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ñ–Ñ AI, Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ñ–Ñ Ð±Ñ–Ð·Ð½ÐµÑ-Ð¿Ñ€Ð¾Ñ†ÐµÑÑ–Ð².

Ð£Ð½Ñ–ÐºÐ°Ð»ÑŒÐ½Ñ– Ð¿ÐµÑ€ÐµÐ²Ð°Ð³Ð¸:
- ÐŸÐ¾Ð²Ð½Ð¸Ð¹ Ñ†Ð¸ÐºÐ» Ð²ÐµÐ±-Ñ€Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ¸
- Ð¤Ð¾ÐºÑƒÑ Ð½Ð° ÑÑƒÑ‡Ð°ÑÐ½Ð¸Ñ… Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ñ–ÑÑ…
- ÐšÐ»Ñ–Ñ”Ð½Ñ‚Ð¾-Ð¾Ñ€Ñ–Ñ”Ð½Ñ‚Ð¾Ð²Ð°Ð½Ð¸Ð¹ Ð¿Ñ–Ð´Ñ…Ñ–Ð´
- ÐžÐ¿Ñ‚Ð¸Ð¼Ñ–Ð·Ð°Ñ†Ñ–Ñ Ð±Ñ–Ð·Ð½ÐµÑ-Ð¿Ñ€Ð¾Ñ†ÐµÑÑ–Ð²
- Ð’Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ð¾, ÑˆÐ²Ð¸Ð´ÐºÐ¾ Ñ‚Ð° Ð±ÐµÐ· Ð·Ð°Ð¹Ð²Ð¾Ñ— Ð±ÑŽÑ€Ð¾ÐºÑ€Ð°Ñ‚Ñ–Ñ—

Ð¤Ñ–Ð»Ð¾ÑÐ¾Ñ„Ñ–Ñ: "ÐšÐ¾Ð¶ÐµÐ½ Ð½Ð°Ñˆ Ð¿Ñ€Ð¾ÐµÐºÑ‚ - Ñ†Ðµ Ð½Ðµ Ð¿Ñ€Ð¾ ÐºÐ¾Ð´, Ñ†Ðµ Ñ€Ñ–ÑˆÐµÐ½Ð½Ñ, ÑÐºÐµ Ð¿Ñ€Ð°Ñ†ÑŽÑ” Ð´Ð»Ñ Ð²Ð°ÑˆÐ¾Ð³Ð¾ Ð±Ñ–Ð·Ð½ÐµÑÑƒ."`,
    metadata: { type: "company_info", page: "main", lang: "uk" }
  },
  {
    title: "Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ñ–Ñ— Magic WebLab",
    content: `Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ñ–Ñ—, ÑÐºÑ– Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ” ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°:

Frontend:
- SCSS/SASS
- Tailwind CSS
- Material UI
- React
- Next.js

Backend:
- Node.js

Ð‘Ð°Ð·Ð¸ Ð´Ð°Ð½Ð¸Ñ…:
- MongoDB
- PostgreSQL

Ð†Ð½ÑˆÑ– Ñ–Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð¸:
- Docker
- Figma
- TypeScript
- JavaScript`,
    metadata: { type: "technologies", page: "about", lang: "uk" }
  },
  {
    title: "Ð Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ° Ð»ÐµÐ½Ð´Ñ–Ð½Ð³Ñ–Ð²",
    content: `Ð Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ° Ð¿Ð¾ÑÐ°Ð´ÐºÐ¾Ð²Ð¸Ñ… ÑÑ‚Ð¾Ñ€Ñ–Ð½Ð¾Ðº (Landing Pages)

ÐžÐ¿Ð¸Ñ: Ð¨Ð²Ð¸Ð´ÐºÐµ Ð·Ð°Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ Ð½Ð¾Ð²Ð¸Ñ… ÐºÐ»Ñ–Ñ”Ð½Ñ‚Ñ–Ð²
Ð¦Ñ–Ð½Ð°: Ð²Ñ–Ð´ $300
Ð¢ÐµÑ€Ð¼Ñ–Ð½Ð¸: Ð²Ñ–Ð´ 1 Ñ‚Ð¸Ð¶Ð½Ñ

Landing page - Ñ†Ðµ ÐµÑ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¸Ð¹ Ñ–Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚ Ð´Ð»Ñ ÑˆÐ²Ð¸Ð´ÐºÐ¾Ð³Ð¾ Ð·Ð°Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ ÐºÐ»Ñ–Ñ”Ð½Ñ‚Ñ–Ð² Ñ‚Ð° Ð¿Ñ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ñ–Ñ— Ð²Ð°ÑˆÐ¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ñƒ Ñ‡Ð¸ Ð¿Ð¾ÑÐ»ÑƒÐ³Ð¸.`,
    metadata: { type: "service", service: "landing", page: "services", lang: "uk" }
  },
  {
    title: "Ð Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ° Ñ–Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚-Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñ–Ð²",
    content: `Ð Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ° Ð¾Ð½Ð»Ð°Ð¹Ð½-Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñ–Ð² (E-commerce)

ÐžÐ¿Ð¸Ñ: Ð—Ñ€ÑƒÑ‡Ð½Ð¸Ð¹ Ð¾Ð½Ð»Ð°Ð¹Ð½ ÑˆÐ¾Ð¿Ñ–Ð½Ð³ 24/7
Ð¦Ñ–Ð½Ð°: Ð²Ñ–Ð´ $3,000
Ð¢ÐµÑ€Ð¼Ñ–Ð½Ð¸: Ð²Ñ–Ð´ 2 Ð¼Ñ–ÑÑÑ†Ñ–Ð²

Ð¡Ñ‚Ð²Ð¾Ñ€ÑŽÑ”Ð¼Ð¾ Ð¿Ð¾Ð²Ð½Ð¾Ñ„ÑƒÐ½ÐºÑ†Ñ–Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ– Ñ–Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚-Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ð¸ Ð· Ð·Ñ€ÑƒÑ‡Ð½Ð¾ÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¾ÑŽ ÑƒÐ¿Ñ€Ð°Ð²Ð»Ñ–Ð½Ð½Ñ Ñ‚Ð¾Ð²Ð°Ñ€Ð°Ð¼Ð¸, Ð·Ð°Ð¼Ð¾Ð²Ð»ÐµÐ½Ð½ÑÐ¼Ð¸ Ñ‚Ð° ÐºÐ»Ñ–Ñ”Ð½Ñ‚Ð°Ð¼Ð¸.`,
    metadata: { type: "service", service: "ecommerce", page: "services", lang: "uk" }
  },
  {
    title: "Ð’Ð¿Ñ€Ð¾Ð²Ð°Ð´Ð¶ÐµÐ½Ð½Ñ AI",
    content: `Ð’Ð¿Ñ€Ð¾Ð²Ð°Ð´Ð¶ÐµÐ½Ð½Ñ ÑˆÑ‚ÑƒÑ‡Ð½Ð¾Ð³Ð¾ Ñ–Ð½Ñ‚ÐµÐ»ÐµÐºÑ‚Ñƒ (AI Implementation)

ÐžÐ¿Ð¸Ñ: Ð Ð¾Ð·ÑƒÐ¼Ð½Ñ– Ð¿Ð¾Ð¼Ñ–Ñ‡Ð½Ð¸ÐºÐ¸ Ð´Ð»Ñ Ð±Ñ–Ð·Ð½ÐµÑÑƒ Ñ‚Ð° Ð²Ð°ÑˆÐ¸Ñ… ÐºÐ»Ñ–Ñ”Ð½Ñ‚Ñ–Ð²
Ð¦Ñ–Ð½Ð°: Ð²Ñ–Ð´ $1,500
Ð¢ÐµÑ€Ð¼Ñ–Ð½Ð¸: Ð²Ñ–Ð´ 1 Ð¼Ñ–ÑÑÑ†Ñ

Ð†Ð½Ñ‚ÐµÐ³Ñ€ÑƒÑ”Ð¼Ð¾ AI Ñ–Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð¸ Ð´Ð»Ñ Ð¿Ð¾ÐºÑ€Ð°Ñ‰ÐµÐ½Ð½Ñ Ð´Ð¾ÑÐ²Ñ–Ð´Ñƒ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ñ–Ð², Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ñ–Ñ— Ð¿Ñ€Ð¾Ñ†ÐµÑÑ–Ð² Ñ‚Ð° Ð¿Ñ–Ð´Ð²Ð¸Ñ‰ÐµÐ½Ð½Ñ ÐµÑ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ñ– Ð±Ñ–Ð·Ð½ÐµÑÑƒ.`,
    metadata: { type: "service", service: "ai", page: "services", lang: "uk" }
  },
  {
    title: "Ð Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ° Ñ‡Ð°Ñ‚Ð±Ð¾Ñ‚Ñ–Ð²",
    content: `Ð Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ° Ñ‡Ð°Ñ‚Ð±Ð¾Ñ‚Ñ–Ð² (Chatbots)

ÐžÐ¿Ð¸Ñ: ÐŸÑ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ° Ð²Ð°ÑˆÐ¸Ñ… ÐºÐ»Ñ–Ñ”Ð½Ñ‚Ñ–Ð² 24/7 ÑÐº Ð½Ð° ÑÐ°Ð¹Ñ‚Ñ–, Ñ‚Ð°Ðº Ñ– Ð² ÑÐ¾Ñ†Ñ–Ð°Ð»ÑŒÐ½Ð¸Ñ… Ð¼ÐµÑ€ÐµÐ¶Ð°Ñ…
Ð¦Ñ–Ð½Ð°: Ð²Ñ–Ð´ $1,000
Ð¢ÐµÑ€Ð¼Ñ–Ð½Ð¸: Ð²Ñ–Ð´ 2 Ñ‚Ð¸Ð¶Ð½Ñ–Ð²

Ð¡Ñ‚Ð²Ð¾Ñ€ÑŽÑ”Ð¼Ð¾ Ñ€Ð¾Ð·ÑƒÐ¼Ð½Ð¸Ñ… Ñ‡Ð°Ñ‚Ð±Ð¾Ñ‚Ñ–Ð² Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ñ–Ñ— ÐºÐ¾Ð¼ÑƒÐ½Ñ–ÐºÐ°Ñ†Ñ–Ñ— Ð· ÐºÐ»Ñ–Ñ”Ð½Ñ‚Ð°Ð¼Ð¸ Ñƒ Ð¼ÐµÑÐµÐ½Ð´Ð¶ÐµÑ€Ð°Ñ… Ñ‚Ð° Ð½Ð° Ð²ÐµÐ±-ÑÐ°Ð¹Ñ‚Ð°Ñ….`,
    metadata: { type: "service", service: "chatbot", page: "services", lang: "uk" }
  },
  {
    title: "ÐžÐ½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ Ñ‚Ð° Ð¼Ð¾Ð´ÐµÑ€Ð½Ñ–Ð·Ð°Ñ†Ñ–Ñ ÑÐ°Ð¹Ñ‚Ñ–Ð²",
    content: `ÐžÐ½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ Ñ‚Ð° Ð¼Ð¾Ð´ÐµÑ€Ð½Ñ–Ð·Ð°Ñ†Ñ–Ñ Ð²ÐµÐ±-ÑÐ°Ð¹Ñ‚Ñ–Ð²

ÐžÐ¿Ð¸Ñ: ÐœÑ–Ð³Ñ€Ð°Ñ†Ñ–Ñ Ð½Ð° Ð½Ð¾Ð²Ñ–Ñ‚Ð½Ñ– Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ñ–Ñ— Ñ‚Ð° Ð¾Ð¿Ñ‚Ð¸Ð¼Ñ–Ð·Ð°Ñ†Ñ–Ñ
Ð¦Ñ–Ð½Ð°: Ð²Ñ–Ð´ $1,500
Ð¢ÐµÑ€Ð¼Ñ–Ð½Ð¸: Ð²Ñ–Ð´ 1 Ð¼Ñ–ÑÑÑ†Ñ

ÐžÐ½Ð¾Ð²Ð»ÑŽÑ”Ð¼Ð¾ Ð·Ð°ÑÑ‚Ð°Ñ€Ñ–Ð»Ñ– ÑÐ°Ð¹Ñ‚Ð¸, Ð¼Ñ–Ð³Ñ€ÑƒÑ”Ð¼Ð¾ Ð½Ð° ÑÑƒÑ‡Ð°ÑÐ½Ñ– Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ñ–Ñ—, Ð¿Ð¾ÐºÑ€Ð°Ñ‰ÑƒÑ”Ð¼Ð¾ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ñ–ÑÑ‚ÑŒ Ñ‚Ð° Ð±ÐµÐ·Ð¿ÐµÐºÑƒ.`,
    metadata: { type: "service", service: "modernization", page: "services", lang: "uk" }
  },
  {
    title: "Ð’Ð¿Ñ€Ð¾Ð²Ð°Ð´Ð¶ÐµÐ½Ð½Ñ CRM ÑÐ¸ÑÑ‚ÐµÐ¼",
    content: `Ð’Ð¿Ñ€Ð¾Ð²Ð°Ð´Ð¶ÐµÐ½Ð½Ñ CRM ÑÐ¸ÑÑ‚ÐµÐ¼

ÐžÐ¿Ð¸Ñ: Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° ÑƒÐ¿Ñ€Ð°Ð²Ð»Ñ–Ð½Ð½Ñ ÐºÐ»Ñ–Ñ”Ð½Ñ‚Ð°Ð¼Ð¸ Ñ‚Ð° Ð·Ð°Ð¼Ð¾Ð²Ð»ÐµÐ½Ð½ÑÐ¼Ð¸
Ð¦Ñ–Ð½Ð°: Ð²Ñ–Ð´ $1,500
Ð¢ÐµÑ€Ð¼Ñ–Ð½Ð¸: Ð²Ñ–Ð´ 1.5 Ð¼Ñ–ÑÑÑ†Ñ–Ð²

Ð Ð¾Ð·Ñ€Ð¾Ð±Ð»ÑÑ”Ð¼Ð¾ Ñ‚Ð° Ð²Ð¿Ñ€Ð¾Ð²Ð°Ð´Ð¶ÑƒÑ”Ð¼Ð¾ CRM ÑÐ¸ÑÑ‚ÐµÐ¼Ð¸ Ð´Ð»Ñ ÐµÑ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ ÑƒÐ¿Ñ€Ð°Ð²Ð»Ñ–Ð½Ð½Ñ Ð²Ð·Ð°Ñ”Ð¼Ð¾Ð²Ñ–Ð´Ð½Ð¾ÑÐ¸Ð½Ð°Ð¼Ð¸ Ð· ÐºÐ»Ñ–Ñ”Ð½Ñ‚Ð°Ð¼Ð¸.`,
    metadata: { type: "service", service: "crm", page: "services", lang: "uk" }
  },
  {
    title: "Ð¡ÑƒÐ¿Ñ€Ð¾Ð²Ñ–Ð´ Ñ‚Ð° Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ° ÑÐ°Ð¹Ñ‚Ñ–Ð²",
    content: `Ð¡ÑƒÐ¿Ñ€Ð¾Ð²Ñ–Ð´ Ñ‚Ð° Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ° Ð²ÐµÐ±-ÑÐ°Ð¹Ñ‚Ñ–Ð²

ÐžÐ¿Ð¸Ñ: ÐŸÑ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ° Ñ‚Ð° Ð¾Ð±ÑÐ»ÑƒÐ³Ð¾Ð²ÑƒÐ²Ð°Ð½Ð½Ñ Ð²Ð°ÑˆÐ¾Ð³Ð¾ ÑÐ°Ð¹Ñ‚Ñƒ
Ð¦Ñ–Ð½Ð°: Ð²Ñ–Ð´ $500
Ð¢ÐµÑ€Ð¼Ñ–Ð½Ð¸: Ð·Ð° Ð´Ð¾Ð¼Ð¾Ð²Ð»ÐµÐ½Ñ–ÑÑ‚ÑŽ

Ð—Ð°Ð±ÐµÐ·Ð¿ÐµÑ‡ÑƒÑ”Ð¼Ð¾ Ñ‚ÐµÑ…Ð½Ñ–Ñ‡Ð½Ñƒ Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÑƒ, Ð¾Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ñƒ, Ð¼Ð¾Ð½Ñ–Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð±ÐµÐ·Ð¿ÐµÐºÐ¸ Ñ‚Ð° Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ñ– Ð²Ð°ÑˆÐ¾Ð³Ð¾ ÑÐ°Ð¹Ñ‚Ñƒ.`,
    metadata: { type: "service", service: "maintenance", page: "services", lang: "uk" }
  },
  {
    title: "Ð Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ° Ð¼Ð¾Ð±Ñ–Ð»ÑŒÐ½Ð¸Ñ… Ñ‚Ð° Ð´ÐµÑÐºÑ‚Ð¾Ð¿Ð½Ð¸Ñ… Ð´Ð¾Ð´Ð°Ñ‚ÐºÑ–Ð²",
    content: `Ð Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ° Ð¼Ð¾Ð±Ñ–Ð»ÑŒÐ½Ð¸Ñ… Ñ‚Ð° Ð´ÐµÑÐºÑ‚Ð¾Ð¿Ð½Ð¸Ñ… Ð´Ð¾Ð´Ð°Ñ‚ÐºÑ–Ð²

ÐžÐ¿Ð¸Ñ: Ð Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ° Ð´Ð»Ñ Ð²ÑÑ–Ñ… Ð¿Ñ€Ð¸ÑÑ‚Ñ€Ð¾Ñ—Ð²
Ð¦Ñ–Ð½Ð°: Ð²Ñ–Ð´ $3,000
Ð¢ÐµÑ€Ð¼Ñ–Ð½Ð¸: Ð²Ñ–Ð´ 2 Ð¼Ñ–ÑÑÑ†Ñ–Ð²

Ð¡Ñ‚Ð²Ð¾Ñ€ÑŽÑ”Ð¼Ð¾ ÐºÑ€Ð¾ÑÐ¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼ÐµÐ½Ð½Ñ– Ð´Ð¾Ð´Ð°Ñ‚ÐºÐ¸ Ð´Ð»Ñ Ð¼Ð¾Ð±Ñ–Ð»ÑŒÐ½Ð¸Ñ… Ð¿Ñ€Ð¸ÑÑ‚Ñ€Ð¾Ñ—Ð² Ñ‚Ð° ÐºÐ¾Ð¼Ð¿'ÑŽÑ‚ÐµÑ€Ñ–Ð² Ð· Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½ÑÐ¼ ÑÑƒÑ‡Ð°ÑÐ½Ð¸Ñ… Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ñ–Ð¹.`,
    metadata: { type: "service", service: "mobile_desktop", page: "services", lang: "uk" }
  },
  {
    title: "ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð½Ð° Ñ–Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ Magic WebLab",
    content: `ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð¸ Magic WebLab:

Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½: +38 095 165 84 73
Email: info.magic.weblab@gmail.com
ÐÐ´Ñ€ÐµÑÐ°: Ð¼. ÐšÐ¸Ñ—Ð², Ð²ÑƒÐ». 85-Ñ‚Ð° Ð¡Ð°Ð´Ð¾Ð²Ð°, Ð±ÑƒÐ´. 6
Ð“Ñ€Ð°Ñ„Ñ–Ðº Ñ€Ð¾Ð±Ð¾Ñ‚Ð¸: ÐŸÐ½-ÐŸÑ‚: 10:00-18:00, Ð¡Ð±-ÐÐ´: Ð’Ð¸Ñ…Ñ–Ð´Ð½Ñ–

Ð‘ÐµÐ·ÐºÐ¾ÑˆÑ‚Ð¾Ð²Ð½Ð° ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ. ÐŸÑ€Ð¾Ð·Ð¾Ñ€Ðµ Ñ†Ñ–Ð½Ð¾ÑƒÑ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ.`,
    metadata: { type: "contacts", page: "contacts", lang: "uk" }
  },
  {
    title: "Ð”Ñ–Ð°Ð¿Ð°Ð·Ð¾Ð½ Ñ†Ñ–Ð½ Ñ‚Ð° Ñ‚ÐµÑ€Ð¼Ñ–Ð½Ñ–Ð²",
    content: `Ð¦Ñ–Ð½Ð¾ÑƒÑ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ Magic WebLab:

ÐœÑ–Ð½Ñ–Ð¼Ð°Ð»ÑŒÐ½Ð° Ð²Ð°Ñ€Ñ‚Ñ–ÑÑ‚ÑŒ Ð¿Ð¾ÑÐ»ÑƒÐ³: $300 (landing page)
ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð° Ð²Ð°Ñ€Ñ‚Ñ–ÑÑ‚ÑŒ Ð¿Ð¾ÑÐ»ÑƒÐ³: $3,000+ (Ñ–Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚-Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ð¸, ÑÐºÐ»Ð°Ð´Ð½Ñ– Ð´Ð¾Ð´Ð°Ñ‚ÐºÐ¸)

Ð¢ÐµÑ€Ð¼Ñ–Ð½Ð¸ Ð²Ð¸ÐºÐ¾Ð½Ð°Ð½Ð½Ñ: Ð²Ñ–Ð´ 1 Ñ‚Ð¸Ð¶Ð½Ñ Ð´Ð¾ 2 Ð¼Ñ–ÑÑÑ†Ñ–Ð², Ð·Ð°Ð»ÐµÐ¶Ð½Ð¾ Ð²Ñ–Ð´ ÑÐºÐ»Ð°Ð´Ð½Ð¾ÑÑ‚Ñ– Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñƒ.

ÐŸÑ€Ð¾Ð¿Ð¾Ð½ÑƒÑ”Ð¼Ð¾ Ð±ÐµÐ·ÐºÐ¾ÑˆÑ‚Ð¾Ð²Ð½Ñƒ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–ÑŽ Ð´Ð»Ñ Ð¾Ñ†Ñ–Ð½ÐºÐ¸ Ð²Ð°ÑˆÐ¾Ð³Ð¾ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñƒ.`,
    metadata: { type: "pricing", page: "services", lang: "uk" }
  }
];

async function seedKnowledgeBase() {
  console.log("ðŸŒ± Starting knowledge base seeding...");

  // Clear existing data
  await prisma.knowledgeBase.deleteMany();
  console.log("ðŸ—‘ï¸  Cleared existing knowledge base");

  for (const item of knowledgeBaseContent) {
    try {
      console.log(`ðŸ“ Processing: ${item.title}`);

      // Generate embedding using Google Gemini
      const { embedding } = await embed({
        model: embeddingModel,
        value: `${item.title}\n\n${item.content}`,
      });

      // Store in database
      await prisma.knowledgeBase.create({
        data: {
          content: `${item.title}\n\n${item.content}`,
          embedding: JSON.stringify(embedding),
          metadata: item.metadata,
        },
      });

      console.log(`âœ… Saved: ${item.title}`);
    } catch (error) {
      console.error(`âŒ Error processing ${item.title}:`, error);
    }
  }

  console.log("ðŸŽ‰ Knowledge base seeding completed!");
}

seedKnowledgeBase()
  .catch((error) => {
    console.error("Fatal error:", error);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
